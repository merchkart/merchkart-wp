function nasa_replace_template(a,t){var i=a.variation||{};return""!==t&&("undefined"!=typeof i.variation_description&&(t=t.replace("{{{data.variation.variation_description}}}",i.variation_description)),"undefined"!=typeof i.variation_description&&(t=t.replace("{{{data.variation.price_html}}}",i.price_html)),"undefined"!=typeof i.variation_description&&(t=t.replace("{{{data.variation.availability_html}}}",i.availability_html))),t}!function(a,t,i,o){var n=function(a){var t=this;t.$form=a,t.$attributeFields=a.find(".variations select"),t.$singleVariation=a.find(".single_variation"),t.$singleVariationWrap=a.find(".single_variation_wrap"),t.$resetVariations=a.find(".reset_variations"),t.$product=a.closest(".product"),t.variationData=a.data("product_variations"),t.useAjax=!1===t.variationData,t.xhr=!1,t.loading=!0,t.$singleVariationWrap.show(),t.$form.off(".wc-variation-form"),t.getChosenAttributes=t.getChosenAttributes.bind(t),t.findMatchingVariations=t.findMatchingVariations.bind(t),t.isMatch=t.isMatch.bind(t),t.toggleResetLink=t.toggleResetLink.bind(t),a.on("click.wc-variation-form",".reset_variations",{variationForm:t},t.onReset),a.on("reload_product_variations",{variationForm:t},t.onReload),a.on("hide_variation",{variationForm:t},t.onHide),a.on("show_variation",{variationForm:t},t.onShow),a.on("click",".single_add_to_cart_button",{variationForm:t},t.onAddToCart),a.on("reset_data",{variationForm:t},t.onResetDisplayedVariation),a.on("reset_image",{variationForm:t},t.onResetImage),a.on("change.wc-variation-form",".variations select",{variationForm:t},t.onChange),a.on("found_variation.wc-variation-form",{variationForm:t},t.onFoundVariation),a.on("check_variations.wc-variation-form",{variationForm:t},t.onFindVariation),a.on("update_variation_values.wc-variation-form",{variationForm:t},t.onUpdateAttributes),setTimeout(function(){a.trigger("check_variations"),a.trigger("wc_variation_form"),t.loading=!1},100)};n.prototype.onReset=function(a){a.preventDefault(),a.data.variationForm.$attributeFields.val("").change(),a.data.variationForm.$form.trigger("reset_data")},n.prototype.onReload=function(a){var t=a.data.variationForm;t.variationData=t.$form.data("product_variations"),t.useAjax=!1===t.variationData,t.$form.trigger("check_variations")},n.prototype.onHide=function(a){a.preventDefault(),a.data.variationForm.$form.find(".single_add_to_cart_button").removeClass("wc-variation-is-unavailable").addClass("disabled wc-variation-selection-needed"),a.data.variationForm.$form.find(".woocommerce-variation-add-to-cart").removeClass("woocommerce-variation-add-to-cart-enabled").addClass("woocommerce-variation-add-to-cart-disabled")},n.prototype.onShow=function(a,t,i){a.preventDefault(),i?(a.data.variationForm.$form.find(".single_add_to_cart_button").removeClass("disabled wc-variation-selection-needed wc-variation-is-unavailable"),a.data.variationForm.$form.find(".woocommerce-variation-add-to-cart").removeClass("woocommerce-variation-add-to-cart-disabled").addClass("woocommerce-variation-add-to-cart-enabled")):(a.data.variationForm.$form.find(".single_add_to_cart_button").removeClass("wc-variation-selection-needed").addClass("disabled wc-variation-is-unavailable"),a.data.variationForm.$form.find(".woocommerce-variation-add-to-cart").removeClass("woocommerce-variation-add-to-cart-enabled").addClass("woocommerce-variation-add-to-cart-disabled"))},n.prototype.onAddToCart=function(i){a(this).is(".disabled")&&(i.preventDefault(),a(this).is(".wc-variation-is-unavailable")?t.alert(nasa_params_variations.i18n_unavailable_text):a(this).is(".wc-variation-selection-needed")&&t.alert(nasa_params_variations.i18n_make_a_selection_text))},n.prototype.onResetDisplayedVariation=function(a){var t=a.data.variationForm;t.$product.find(".product_meta").find(".sku").wc_reset_content(),t.$product.find(".product_weight").wc_reset_content(),t.$product.find(".product_dimensions").wc_reset_content(),t.$form.trigger("reset_image"),t.$singleVariation.slideUp(200).trigger("hide_variation")},n.prototype.onResetImage=function(a){a.data.variationForm.$form.lightbox_wc_variations_image_update(!1)},n.prototype.onFindVariation=function(t){var i=t.data.variationForm,o=i.getChosenAttributes(),n=o.data;if(o.count===o.chosenCount)if(i.useAjax)i.xhr&&i.xhr.abort(),i.$form.block({message:null,overlayCSS:{background:"#fff",opacity:.6}}),n.product_id=parseInt(i.$form.data("product_id"),10),n.custom_data=i.$form.data("custom_data"),i.xhr=a.ajax({url:nasa_params_variations.wc_ajax_url.toString().replace("%%endpoint%%","get_variation"),type:"POST",data:n,success:function(a){a?i.$form.trigger("found_variation",[a]):(i.$form.trigger("reset_data"),o.chosenCount=0,i.loading||(i.$form.find(".single_variation").after('<p class="wc-no-matching-variations woocommerce-info">'+nasa_params_variations.i18n_no_matching_variations_text+"</p>"),i.$form.find(".wc-no-matching-variations").slideDown(200)))},complete:function(){i.$form.unblock()}});else{i.$form.trigger("update_variation_values");var e=i.findMatchingVariations(i.variationData,n),r=e.shift();r?i.$form.trigger("found_variation",[r]):(i.$form.trigger("reset_data"),o.chosenCount=0,i.loading||(i.$form.find(".single_variation").after('<p class="wc-no-matching-variations woocommerce-info">'+nasa_params_variations.i18n_no_matching_variations_text+"</p>"),i.$form.find(".wc-no-matching-variations").slideDown(200)))}else i.$form.trigger("update_variation_values"),i.$form.trigger("reset_data");i.toggleResetLink(o.chosenCount>0)},n.prototype.onFoundVariation=function(t,i){var o=t.data.variationForm,n=o.$product.find(".product_meta").find(".sku"),r=o.$product.find(".product_weight"),s=o.$product.find(".product_dimensions"),d=o.$singleVariationWrap.find(".quantity"),c=!0,l="",_=!1,v="";i.sku?n.wc_set_content(i.sku):n.wc_reset_content(),i.weight?r.wc_set_content(i.weight_html):r.wc_reset_content(),i.dimensions?s.wc_set_content(a.parseHTML(i.dimensions_html)[0].data):s.wc_reset_content(),o.$form.lightbox_wc_variations_image_update(i),i.variation_is_visible?(_=e("variation-template"),l=i.variation_id):_=e("unavailable-variation-template"),v=nasa_replace_template({variation:i},_),v=v.replace("/*<![CDATA[*/",""),v=v.replace("/*]]>*/",""),o.$singleVariation.html(v),o.$form.find('input[name="variation_id"], input.variation_id').val(i.variation_id).change(),"yes"===i.is_sold_individually?(d.find("input.qty").val("1").attr("min","1").attr("max",""),d.hide()):(d.find("input.qty").attr("min",i.min_qty).attr("max",i.max_qty),d.show()),i.is_purchasable&&i.is_in_stock&&i.variation_is_visible||(c=!1),a.trim(o.$singleVariation.text())?o.$singleVariation.slideDown(200).trigger("show_variation",[i,c]):o.$singleVariation.show().trigger("show_variation",[i,c])},n.prototype.onChange=function(t){var i=t.data.variationForm;i.$form.find('input[name="variation_id"], input.variation_id').val("").change(),i.$form.find(".wc-no-matching-variations").remove(),i.useAjax?i.$form.trigger("check_variations"):(i.$form.trigger("woocommerce_variation_select_change"),i.$form.trigger("check_variations"),a(this).blur()),i.$form.trigger("woocommerce_variation_has_changed")},n.prototype.addSlashes=function(a){return a=a.replace(/'/g,"\\'"),a=a.replace(/"/g,'\\"')},n.prototype.onUpdateAttributes=function(t){var i=t.data.variationForm,o=i.getChosenAttributes(),n=o.data;if(!i.useAjax){if(i.$attributeFields.each(function(t,o){var e=a(o),r=e.data("attribute_name")||e.attr("name"),s=a(o).data("show_option_none"),d=":gt(0)",c=0,l=a("<select/>"),_=e.val()||"",v=!0;if(!e.data("attribute_html")){var u=e.clone();u.find("option").removeAttr("disabled attached").removeAttr("selected"),e.data("attribute_options",u.find("option"+d).get()),e.data("attribute_html",u.html())}l.html(e.data("attribute_html"));var m=a.extend(!0,{},n);m[r]="";var f=i.findMatchingVariations(i.variationData,m);for(var g in f)if("undefined"!=typeof f[g]){var p=f[g].attributes;for(var h in p)if(p.hasOwnProperty(h)){var w=p[h],b="";h===r&&(f[g].variation_is_active&&(b="enabled"),w?(w=a("<div/>").html(w).text(),l.find('option[value="'+i.addSlashes(w)+'"]').addClass("attached "+b)):l.find("option:gt(0)").addClass("attached "+b))}}c=l.find("option.attached").length,!_||0!==c&&0!==l.find('option.attached.enabled[value="'+i.addSlashes(_)+'"]').length||(v=!1),c>0&&_&&v&&"no"===s&&(l.find("option:first").remove(),d=""),l.find("option"+d+":not(.attached)").remove(),e.html(l.html()),e.find("option"+d+":not(.enabled)").prop("disabled",!0),_?v?e.val(_):e.val("").change():e.val("")}),a(".product-lightbox").find(".nasa-gallery-variation-supported").length&&!_quicked_gallery&&"undefined"!=typeof _lightbox_variations[0]){_quicked_gallery=!0;var e=_lightbox_variations[0];"undefined"!=typeof e.quickview_gallery&&a(".nasa-product-gallery-lightbox").find(".main-image-slider").replaceWith(e.quickview_gallery),loadLightboxCarousel(a)}a(".nasa-quickview-product-deal-countdown").length&&(a(".nasa-quickview-product-deal-countdown").html(""),a(".nasa-quickview-product-deal-countdown").removeClass("nasa-show")),i.$form.trigger("woocommerce_update_variation_values")}},n.prototype.getChosenAttributes=function(){var t={},i=0,o=0;return this.$attributeFields.each(function(){var n=a(this).data("attribute_name")||a(this).attr("name"),e=a(this).val()||"";e.length>0&&o++,i++,t[n]=e}),{count:i,chosenCount:o,data:t}},n.prototype.findMatchingVariations=function(a,t){for(var i=[],o=0;o<a.length;o++){var n=a[o];this.isMatch(n.attributes,t)&&i.push(n)}return i},n.prototype.isMatch=function(a,t){var i=!0;for(var n in a)if(a.hasOwnProperty(n)){var e=a[n],r=t[n];e!==o&&r!==o&&0!==e.length&&0!==r.length&&e!==r&&(i=!1)}return i},n.prototype.toggleResetLink=function(a){a?"hidden"===this.$resetVariations.css("visibility")&&this.$resetVariations.css("visibility","visible").hide().fadeIn():this.$resetVariations.css("visibility","hidden")},a.fn.wc_variation_form_lightbox=function(){return new n(this),this},a.fn.wc_set_content=function(a){o===this.attr("data-o_content")&&this.attr("data-o_content",this.text()),this.text(a)},a.fn.wc_reset_content=function(){o!==this.attr("data-o_content")&&this.text(this.attr("data-o_content"))},a.fn.wc_set_variation_attr=function(a,t){o===this.attr("data-o_"+a)&&this.attr("data-o_"+a,this.attr(a)?this.attr(a):""),!1===t?this.removeAttr(a):this.attr(a,t)},a.fn.wc_reset_variation_attr=function(a){o!==this.attr("data-o_"+a)&&this.attr(a,this.attr("data-o_"+a))},a.fn.wc_maybe_trigger_slide_position_reset=function(t){var i=a(this),o=i.closest(".product"),n=o.find(".images"),e=!1,r=t&&t.image_id?t.image_id:"";i.attr("current-image")!==r&&(e=!0),i.attr("current-image",r),e&&n.trigger("woocommerce_gallery_reset_slide_position")},a.fn.lightbox_wc_variations_image_update=function(t){var i=this;if(t&&t.image&&t.image.src&&t.image.src.length>1)if(a(".product-lightbox").find(".nasa-gallery-variation-supported").length){var o={variation_id:t.variation_id,is_purchasable:t.is_purchasable,is_in_stock:t.is_in_stock,main_id:"undefined"!=typeof t.image_id?t.image_id:0,gallery:"undefined"!=typeof t.nasa_gallery_variation?t.nasa_gallery_variation:[],show_images:a(".product-lightbox").find(".main-image-slider").attr("data-items")};changeGalleryVariableQuickviewProduct(a,o)}else{var n="undefined"!=typeof t.image_single_page?t.image_single_page:t.image.url;a(".main-image-slider .owl-item:eq(0) img").attr("src",n),a(".main-image-slider .owl-item:eq(0) img").removeAttr("srcset")}else i.wc_variations_image_reset();if(a(".product-lightbox").find(".nasa-gallery-variation-supported").length<1&&a(".nasa-quickview-product-deal-countdown").length)if(t&&t.variation_id&&t.is_in_stock&&t.is_purchasable)if("undefined"==typeof _single_variations[t.variation_id]){var e=null;"undefined"!=typeof nasa_params_variations&&"undefined"!=typeof nasa_params_variations.wc_ajax_url&&(e=nasa_params_variations.wc_ajax_url.toString().replace("%%endpoint%%","nasa_get_deal_variation")),e&&a.ajax({url:e,type:"post",cache:!1,data:{pid:t.variation_id},beforeSend:function(){a(".nasa-quickview-product-deal-countdown").html(""),a(".nasa-quickview-product-deal-countdown").removeClass("nasa-show")},success:function(i){_single_variations[t.variation_id]="undefined"!=typeof i.success&&"1"===i.success?i.content:"",a(".nasa-quickview-product-deal-countdown").html(_single_variations[t.variation_id]),""!==_single_variations[t.variation_id]?(loadCountDown(a),a(".nasa-quickview-product-deal-countdown").hasClass("nasa-show")||a(".nasa-quickview-product-deal-countdown").addClass("nasa-show")):a(".nasa-quickview-product-deal-countdown").removeClass("nasa-show")},error:function(){}})}else a(".nasa-quickview-product-deal-countdown").html(_single_variations[t.variation_id]),""!==_single_variations[t.variation_id]?(loadCountDown(a),a(".nasa-quickview-product-deal-countdown").hasClass("nasa-show")||a(".nasa-quickview-product-deal-countdown").addClass("nasa-show")):a(".nasa-quickview-product-deal-countdown").removeClass("nasa-show");else a(".nasa-quickview-product-deal-countdown").html(""),a(".nasa-quickview-product-deal-countdown").removeClass("nasa-show")},a.fn.wc_variations_image_reset=function(){if(a(".product-lightbox").find(".nasa-gallery-variation-supported").length){if(!_quicked_gallery&&"undefined"!=typeof _lightbox_variations[0]){_quicked_gallery=!0;var t=_lightbox_variations[0];"undefined"!=typeof t.quickview_gallery&&a(".nasa-product-gallery-lightbox").find(".main-image-slider").replaceWith(t.quickview_gallery),loadLightboxCarousel(a)}}else{var i=a(".nasa-product-gallery-lightbox").attr("data-o_href");a(".main-image-slider .owl-item:eq(0) img").attr("src",i).removeAttr("srcset")}};var e=function(a){return i.getElementById("tmpl-"+a+"-nasa").textContent}}(jQuery,window,document);